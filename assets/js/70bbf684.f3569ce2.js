"use strict";(self.webpackChunklibrephotos_docs=self.webpackChunklibrephotos_docs||[]).push([[2385],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var o=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,r=function(e,t){if(null==e)return{};var a,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=o.createContext({}),u=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):n(n({},t),e)),a},d=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=u(a),h=r,m=c["".concat(l,".").concat(h)]||c[h]||p[h]||i;return a?o.createElement(m,n(n({ref:t},d),{},{components:a})):o.createElement(m,n({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,n=new Array(i);n[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,n[1]=s;for(var u=2;u<i;u++)n[u]=a[u];return o.createElement.apply(null,n)}return o.createElement.apply(null,a)}h.displayName="MDXCreateElement"},8673:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>n,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var o=a(7462),r=(a(7294),a(3905));const i={title:"\ud83d\udcbc Job System",excerpt:"A overview of what the worker logs mean",sidebar_position:5},n=void 0,s={unversionedId:"user-guide/job-system",id:"user-guide/job-system",title:"\ud83d\udcbc Job System",description:"How does it work",source:"@site/docs/user-guide/job-system.md",sourceDirName:"user-guide",slug:"/user-guide/job-system",permalink:"/docs/user-guide/job-system",draft:!1,editUrl:"https://github.com/LibrePhotos/librephotos.docs/tree/master/docs/user-guide/job-system.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"\ud83d\udcbc Job System",excerpt:"A overview of what the worker logs mean",sidebar_position:5},sidebar:"userguide",previous:{title:"\ud83d\udcc1 Albums",permalink:"/docs/user-guide/albums"},next:{title:"\ud83d\udcf1  Mobile Apps",permalink:"/docs/user-guide/mobile/"}},l={},u=[{value:"How does it work",id:"how-does-it-work",level:2},{value:"Scan Photos",id:"scan-photos",level:3},{value:"Generate Auto Albums",id:"generate-auto-albums",level:3},{value:"Generate Auto Albums Titles",id:"generate-auto-albums-titles",level:3},{value:"Train Faces",id:"train-faces",level:3},{value:"Delete Missing Photos",id:"delete-missing-photos",level:3},{value:"Calculate Clip Embedding",id:"calculate-clip-embedding",level:3},{value:"Scan Faces",id:"scan-faces",level:3},{value:"Cluster All Faces",id:"cluster-all-faces",level:3},{value:"Download Models",id:"download-models",level:3},{value:"Repair File Variants",id:"repair-file-variants",level:3},{value:"Detect Duplicates",id:"detect-duplicates",level:3},{value:"Where to get information about previous run jobs",id:"where-to-get-information-about-previous-run-jobs",level:2},{value:"What to do when a job gets stuck",id:"what-to-do-when-a-job-gets-stuck",level:2}],d={toc:u},c="wrapper";function p(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,o.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"how-does-it-work"},"How does it work"),(0,r.kt)("p",null,"The job system gives you information about the long-running jobs, including which job is running, in a queue, how far it progressed and when it started and stopped. Here are the available long-running jobs:"),(0,r.kt)("h3",{id:"scan-photos"},"Scan Photos"),(0,r.kt)("p",null,"Scan photos will look at all media files in your scan directory and will add them to the library."),(0,r.kt)("h3",{id:"generate-auto-albums"},"Generate Auto Albums"),(0,r.kt)("p",null,"This job will look at all media files that already exist. It tries to find common events by looking at the timestamp and grouping the images. If the media files are in a 1 day and 12 hour interval, they will appear in the same auto album."),(0,r.kt)("h3",{id:"generate-auto-albums-titles"},"Generate Auto Albums Titles"),(0,r.kt)("p",null,"This will create a title for the auto album based on the information of the media files in the auto album."),(0,r.kt)("h3",{id:"train-faces"},"Train Faces"),(0,r.kt)("p",null,"This will look at all faces and its groups and will give us a certainty value for the image in the group."),(0,r.kt)("h3",{id:"delete-missing-photos"},"Delete Missing Photos"),(0,r.kt)("p",null,"Finds all missing media files and removes them from the database."),(0,r.kt)("h3",{id:"calculate-clip-embedding"},"Calculate Clip Embedding"),(0,r.kt)("p",null,"Calculates the CLIP value for all images. This is used for semantic search and for finding similar images."),(0,r.kt)("h3",{id:"scan-faces"},"Scan Faces"),(0,r.kt)("p",null,"Looks for faces in the images and save them to the database"),(0,r.kt)("h3",{id:"cluster-all-faces"},"Cluster All Faces"),(0,r.kt)("p",null,"Clusters the faces into known and unknown groups."),(0,r.kt)("h3",{id:"download-models"},"Download Models"),(0,r.kt)("p",null,"This downloads the needed machine learning models to data/protected_media/data_models/."),(0,r.kt)("h3",{id:"repair-file-variants"},"Repair File Variants"),(0,r.kt)("p",null,"Runs after each scan to fix any previously ungrouped file variants. If RAW+JPEG pairs or Live Photos were scanned separately before the file variant system was introduced, this job will merge them into proper photo groups. See ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-guide/stacks-and-file-variants"},"Stacks & File Variants")," for more details."),(0,r.kt)("h3",{id:"detect-duplicates"},"Detect Duplicates"),(0,r.kt)("p",null,"Finds duplicate photos in your library using perceptual hashing. It detects both exact copies (via hash comparison) and visual duplicates (via a two-pass algorithm). Results are shown in the Organizing page where you can review and manage them. See ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-guide/duplicate-detection"},"Duplicate Detection")," for more details."),(0,r.kt)("h2",{id:"where-to-get-information-about-previous-run-jobs"},"Where to get information about previous run jobs"),(0,r.kt)("p",null,"When you are logged in as an admin, click on the profile picture in the top right corner and then navigate to ",(0,r.kt)("inlineCode",{parentName:"p"},"Admin Area"),". You should see the jobs at the bottom of the page in a table called ",(0,r.kt)("inlineCode",{parentName:"p"},"Worker Logs")),(0,r.kt)("h2",{id:"what-to-do-when-a-job-gets-stuck"},"What to do when a job gets stuck"),(0,r.kt)("p",null,"When a job gets stuck, that usually means, that it crashed, and we could not catch the error correctly. You can just remove the entry from the list to start another job."))}p.isMDXComponent=!0}}]);