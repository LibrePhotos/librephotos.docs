"use strict";(self.webpackChunklibrephotos_docs=self.webpackChunklibrephotos_docs||[]).push([[7554],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>c});var n=o(7294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),m=u(o),d=i,c=m["".concat(l,".").concat(d)]||m[d]||h[d]||a;return o?n.createElement(c,s(s({ref:t},p),{},{components:o})):n.createElement(c,s({ref:t},p))}));function c(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,s=new Array(a);s[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[m]="string"==typeof e?e:i,s[1]=r;for(var u=2;u<a;u++)s[u]=o[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},573:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>u});var n=o(7462),i=(o(7294),o(3905));const a={title:"\ud83d\udcc2 Missing Photos",excerpt:"Understanding and managing missing photos in LibrePhotos",sidebar_position:8},s=void 0,r={unversionedId:"user-guide/missing-photos",id:"user-guide/missing-photos",title:"\ud83d\udcc2 Missing Photos",description:"What are Missing Photos?",source:"@site/docs/user-guide/missing-photos.md",sourceDirName:"user-guide",slug:"/user-guide/missing-photos",permalink:"/docs/user-guide/missing-photos",draft:!1,editUrl:"https://github.com/LibrePhotos/librephotos.docs/tree/master/docs/user-guide/missing-photos.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"\ud83d\udcc2 Missing Photos",excerpt:"Understanding and managing missing photos in LibrePhotos",sidebar_position:8},sidebar:"userguide",previous:{title:"\ud83d\udd0d Duplicate Detection",permalink:"/docs/user-guide/duplicate-detection"},next:{title:"\ud83d\udd17 Sharing",permalink:"/docs/user-guide/sharing"}},l={},u=[{value:"What are Missing Photos?",id:"what-are-missing-photos",level:2},{value:"Why Does LibrePhotos Keep Missing Photos?",id:"why-does-librephotos-keep-missing-photos",level:2},{value:"When Photos Get Marked as Missing",id:"when-photos-get-marked-as-missing",level:2},{value:"How to Identify Missing Photos",id:"how-to-identify-missing-photos",level:2},{value:"Statistics Dashboard",id:"statistics-dashboard",level:3},{value:"Photo Labels",id:"photo-labels",level:3},{value:"Admin Area",id:"admin-area",level:3},{value:"Resolving Missing Photos",id:"resolving-missing-photos",level:2},{value:"Option 1: Restore the Files",id:"option-1-restore-the-files",level:3},{value:"Option 2: Fix Storage Configuration",id:"option-2-fix-storage-configuration",level:3},{value:"Option 3: Automatic Relinking",id:"option-3-automatic-relinking",level:3},{value:"Option 4: Delete Missing Photos",id:"option-4-delete-missing-photos",level:3},{value:"Common Scenarios and Solutions",id:"common-scenarios-and-solutions",level:2},{value:"Scenario: External Drive Not Mounted",id:"scenario-external-drive-not-mounted",level:3},{value:"Scenario: Changed Docker Mount Points",id:"scenario-changed-docker-mount-points",level:3},{value:"Scenario: Files Moved to Different Folder",id:"scenario-files-moved-to-different-folder",level:3},{value:"Scenario: Deleted Files in Trash",id:"scenario-deleted-files-in-trash",level:3},{value:"Future Improvements",id:"future-improvements",level:2},{value:"Related Documentation",id:"related-documentation",level:2}],p={toc:u},m="wrapper";function h(e){let{components:t,...o}=e;return(0,i.kt)(m,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"what-are-missing-photos"},"What are Missing Photos?"),(0,i.kt)("p",null,"Missing photos are photos whose metadata and thumbnails exist in LibrePhotos' database, but the actual image files cannot be found on your file system. This typically happens in two situations:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Files moved or renamed externally")," - When you move or rename files using a file manager, operating system tools, or other programs outside of LibrePhotos"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Storage or mounting issues")," - When external drives aren't mounted, network storage is disconnected, or Docker mount points are misconfigured")),(0,i.kt)("h2",{id:"why-does-librephotos-keep-missing-photos"},"Why Does LibrePhotos Keep Missing Photos?"),(0,i.kt)("p",null,"LibrePhotos deliberately keeps missing photos in the database instead of immediately deleting them. This is a design decision based on real-world usage patterns:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Files often come back")," - In many cases, the files return when you remount a drive, fix storage configuration, or realize files were moved"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Preservation of metadata")," - Your ratings, captions, face tags, and album assignments are preserved"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Automatic relinking")," - When files reappear, LibrePhotos can automatically reconnect them to their metadata using hash-based matching")),(0,i.kt)("h2",{id:"when-photos-get-marked-as-missing"},"When Photos Get Marked as Missing"),(0,i.kt)("p",null,"LibrePhotos identifies missing photos during these operations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Photo scans"),' - Running the "Scan for Missing Photos" job checks all photos in the database'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"File system scans")," - Regular photo scans detect when previously indexed files are no longer present"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Photo access")," - When attempting to view or serve a photo whose file doesn't exist"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"File operations")," - When LibrePhotos tries to access a file for processing")),(0,i.kt)("p",null,"Common scenarios that cause missing photos:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Moving photos to a different folder using a file manager"),(0,i.kt)("li",{parentName:"ul"},"Renaming photo files outside of LibrePhotos"),(0,i.kt)("li",{parentName:"ul"},"External hard drive not mounted at startup"),(0,i.kt)("li",{parentName:"ul"},"Network attached storage (NAS) disconnected"),(0,i.kt)("li",{parentName:"ul"},"Changed mount points in Docker configuration"),(0,i.kt)("li",{parentName:"ul"},"Cloud storage sync issues")),(0,i.kt)("h2",{id:"how-to-identify-missing-photos"},"How to Identify Missing Photos"),(0,i.kt)("p",null,"LibrePhotos provides several ways to identify missing photos:"),(0,i.kt)("h3",{id:"statistics-dashboard"},"Statistics Dashboard"),(0,i.kt)("p",null,"Navigate to your user statistics to see the count of missing photos. The statistics page displays ",(0,i.kt)("inlineCode",{parentName:"p"},"num_missing_photos")," which shows how many photos in your library have missing files."),(0,i.kt)("h3",{id:"photo-labels"},"Photo Labels"),(0,i.kt)("p",null,"Photos with missing files are labeled with ",(0,i.kt)("strong",{parentName:"p"},'["Missing"]')," when viewed in the library or photo details."),(0,i.kt)("h3",{id:"admin-area"},"Admin Area"),(0,i.kt)("p",null,"Administrators can view detailed statistics about missing photos across all users in the Admin Area."),(0,i.kt)("h2",{id:"resolving-missing-photos"},"Resolving Missing Photos"),(0,i.kt)("p",null,"You have several options for dealing with missing photos:"),(0,i.kt)("h3",{id:"option-1-restore-the-files"},"Option 1: Restore the Files"),(0,i.kt)("p",null,"If you know where the files went:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Move or copy the files back to their original location"),(0,i.kt)("li",{parentName:"ol"},"If you've moved them to a new location within your scanned directories, LibrePhotos can automatically relink them"),(0,i.kt)("li",{parentName:"ol"},"Run a photo scan to update the database")),(0,i.kt)("h3",{id:"option-2-fix-storage-configuration"},"Option 2: Fix Storage Configuration"),(0,i.kt)("p",null,"If the issue is related to mounting or storage:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Ensure external drives are properly mounted"),(0,i.kt)("li",{parentName:"ol"},"Check Docker volume mounts in your configuration"),(0,i.kt)("li",{parentName:"ol"},"Verify network storage is accessible"),(0,i.kt)("li",{parentName:"ol"},"Restart LibrePhotos after fixing storage issues"),(0,i.kt)("li",{parentName:"ol"},'Run "Scan for Missing Photos" job to detect restored files')),(0,i.kt)("h3",{id:"option-3-automatic-relinking"},"Option 3: Automatic Relinking"),(0,i.kt)("p",null,"LibrePhotos automatically relinks photos when files reappear:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"During regular photo scans, the system uses hash-based matching"),(0,i.kt)("li",{parentName:"ul"},"If a file with the same content hash appears anywhere in your scanned directories, it will be automatically linked to the existing photo metadata"),(0,i.kt)("li",{parentName:"ul"},"This works even if the file has been renamed or moved to a different folder")),(0,i.kt)("p",null,"To trigger automatic relinking:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to Settings \u2192 Library Management"),(0,i.kt)("li",{parentName:"ol"},'Click "Scan Photos" to perform a new scan'),(0,i.kt)("li",{parentName:"ol"},"LibrePhotos will detect and relink matching files")),(0,i.kt)("h3",{id:"option-4-delete-missing-photos"},"Option 4: Delete Missing Photos"),(0,i.kt)("p",null,"If you're certain the files are permanently gone:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to Settings \u2192 Library Management"),(0,i.kt)("li",{parentName:"ol"},'Click "Delete Missing Photos"'),(0,i.kt)("li",{parentName:"ol"},"This will permanently remove all missing photos from the database, including:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Photo metadata and EXIF information"),(0,i.kt)("li",{parentName:"ul"},"Thumbnails"),(0,i.kt)("li",{parentName:"ul"},"Face detections"),(0,i.kt)("li",{parentName:"ul"},"Album associations"),(0,i.kt)("li",{parentName:"ul"},"Ratings and captions")))),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Deleting missing photos is permanent. Make sure the files are truly gone and won't be restored before using this option.")),(0,i.kt)("h2",{id:"common-scenarios-and-solutions"},"Common Scenarios and Solutions"),(0,i.kt)("h3",{id:"scenario-external-drive-not-mounted"},"Scenario: External Drive Not Mounted"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Problem"),": Your external drive containing photos wasn't mounted when LibrePhotos started."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Solution"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Mount the external drive"),(0,i.kt)("li",{parentName:"ol"},"Restart the LibrePhotos container to pick up the mounted drive"),(0,i.kt)("li",{parentName:"ol"},"The photos should automatically become available again")),(0,i.kt)("h3",{id:"scenario-changed-docker-mount-points"},"Scenario: Changed Docker Mount Points"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Problem"),": You changed your Docker volume configuration and the photo paths no longer match."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Solution"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Update your Docker configuration to use the original mount point, or"),(0,i.kt)("li",{parentName:"ol"},"Move your photos to match the new mount point"),(0,i.kt)("li",{parentName:"ol"},"Restart LibrePhotos"),(0,i.kt)("li",{parentName:"ol"},'Run "Scan for Missing Photos" to update the database')),(0,i.kt)("h3",{id:"scenario-files-moved-to-different-folder"},"Scenario: Files Moved to Different Folder"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Problem"),": You reorganized your photo collection using a file manager."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Solution"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'If the new location is within your scanned directories, just run "Scan Photos"'),(0,i.kt)("li",{parentName:"ol"},"LibrePhotos will detect the files by hash and automatically relink them"),(0,i.kt)("li",{parentName:"ol"},"The original metadata, ratings, and face tags will be preserved")),(0,i.kt)("h3",{id:"scenario-deleted-files-in-trash"},"Scenario: Deleted Files in Trash"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Problem"),": Photos show as missing after moving them to trash."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Solution"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If you want to keep them: Restore the files from trash and run a scan"),(0,i.kt)("li",{parentName:"ul"},'If you want to remove them: Use "Delete Missing Photos" to clean up the database')),(0,i.kt)("h2",{id:"future-improvements"},"Future Improvements"),(0,i.kt)("p",null,"LibrePhotos is working on implementing real-time file system monitoring that will:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Automatically detect when files are moved or renamed"),(0,i.kt)("li",{parentName:"ul"},"Immediately update photo paths without manual scans"),(0,i.kt)("li",{parentName:"ul"},"Significantly reduce cases where photos are marked as missing"),(0,i.kt)("li",{parentName:"ul"},"Provide instant relinking when files are moved within scanned directories")),(0,i.kt)("p",null,"This real-time monitoring will use file system watchers (inotify on Linux, FSEvents on macOS) to track changes as they happen, making the missing photos feature even more seamless."),(0,i.kt)("h2",{id:"related-documentation"},"Related Documentation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/user-guide/trash"},"Trash Management")," - Learn about LibrePhotos' trash system"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/user-guide/job-system"},"Job System"),' - Understanding long-running jobs like "Scan for Missing Photos"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/user-guide/auto-scan"},"Auto Scan")," - Configure automatic photo scanning")))}h.isMDXComponent=!0}}]);