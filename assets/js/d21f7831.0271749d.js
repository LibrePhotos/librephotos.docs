"use strict";(self.webpackChunklibrephotos_docs=self.webpackChunklibrephotos_docs||[]).push([[2399],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var i=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=i.createContext({}),p=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(a),h=r,m=c["".concat(s,".").concat(h)]||c[h]||d[h]||n;return a?i.createElement(m,l(l({ref:t},u),{},{components:a})):i.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,l=new Array(n);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<n;p++)l[p]=a[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,a)}h.displayName="MDXCreateElement"},3834:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>n,metadata:()=>o,toc:()=>p});var i=a(7462),r=(a(7294),a(3905));const n={title:"\ud83d\udd0d Duplicate Detection",excerpt:"Find and manage duplicate photos in your library",sidebar_position:8},l=void 0,o={unversionedId:"user-guide/duplicate-detection",id:"user-guide/duplicate-detection",title:"\ud83d\udd0d Duplicate Detection",description:"LibrePhotos can detect duplicate photos in your library using both exact file matching and visual similarity analysis. This helps you reclaim storage space and keep your library clean.",source:"@site/docs/user-guide/duplicate-detection.md",sourceDirName:"user-guide",slug:"/user-guide/duplicate-detection",permalink:"/docs/user-guide/duplicate-detection",draft:!1,editUrl:"https://github.com/LibrePhotos/librephotos.docs/tree/master/docs/user-guide/duplicate-detection.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"\ud83d\udd0d Duplicate Detection",excerpt:"Find and manage duplicate photos in your library",sidebar_position:8},sidebar:"userguide",previous:{title:"\ud83d\udcda Stacks & File Variants",permalink:"/docs/user-guide/stacks-and-file-variants"},next:{title:"\ud83d\udcc2 Missing Photos",permalink:"/docs/user-guide/missing-photos"}},s={},p=[{value:"Types of Duplicates",id:"types-of-duplicates",level:2},{value:"Exact Copies",id:"exact-copies",level:3},{value:"Visual Duplicates",id:"visual-duplicates",level:3},{value:"How Detection Works",id:"how-detection-works",level:2},{value:"Perceptual Hashing",id:"perceptual-hashing",level:3},{value:"Two-Pass Algorithm",id:"two-pass-algorithm",level:3},{value:"Using Duplicate Detection",id:"using-duplicate-detection",level:2},{value:"Finding Duplicates",id:"finding-duplicates",level:3},{value:"Reviewing Duplicates",id:"reviewing-duplicates",level:3},{value:"Filtering Results",id:"filtering-results",level:4},{value:"Resolving a Duplicate Group",id:"resolving-a-duplicate-group",level:4},{value:"Other Actions",id:"other-actions",level:4},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Tips",id:"tips",level:2}],u={toc:p},c="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,i.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"LibrePhotos can detect duplicate photos in your library using both exact file matching and visual similarity analysis. This helps you reclaim storage space and keep your library clean."),(0,r.kt)("h2",{id:"types-of-duplicates"},"Types of Duplicates"),(0,r.kt)("h3",{id:"exact-copies"},"Exact Copies"),(0,r.kt)("p",null,"Photos that are byte-for-byte identical. These are detected by comparing file hashes (MD5). This catches files that have been copied to multiple locations or imported more than once."),(0,r.kt)("h3",{id:"visual-duplicates"},"Visual Duplicates"),(0,r.kt)("p",null,"Photos that look the same but may differ in resolution, quality, compression, or minor edits. These are detected using ",(0,r.kt)("strong",{parentName:"p"},"perceptual hashing")," \u2014 a technique that creates a fingerprint of what an image looks like, rather than its raw bytes. Two images with similar perceptual hashes are visually similar even if the files are technically different."),(0,r.kt)("h2",{id:"how-detection-works"},"How Detection Works"),(0,r.kt)("h3",{id:"perceptual-hashing"},"Perceptual Hashing"),(0,r.kt)("p",null,"LibrePhotos computes a 64-bit perceptual hash (pHash) for each image using a DCT-based (Discrete Cosine Transform) algorithm. This hash captures the visual structure of the image and is robust against:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Resizing"),(0,r.kt)("li",{parentName:"ul"},"Minor compression differences"),(0,r.kt)("li",{parentName:"ul"},"Small color adjustments"),(0,r.kt)("li",{parentName:"ul"},"Format conversions (e.g. JPEG \u2192 PNG)")),(0,r.kt)("p",null,"Two images are considered visually similar when their ",(0,r.kt)("strong",{parentName:"p"},"Hamming distance")," (the number of differing bits) is below a threshold."),(0,r.kt)("h3",{id:"two-pass-algorithm"},"Two-Pass Algorithm"),(0,r.kt)("p",null,"For large collections, LibrePhotos uses a memory-efficient two-pass algorithm:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Pass 1")," \u2014 Photos are processed in batches (default 10,000). Within each batch, a BK-tree data structure enables fast Hamming distance lookups to find duplicates.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Pass 2")," \u2014 Cross-batch comparison ensures duplicates that span different batches are also found."))),(0,r.kt)("p",null,"This approach keeps memory usage manageable even with hundreds of thousands of photos."),(0,r.kt)("h2",{id:"using-duplicate-detection"},"Using Duplicate Detection"),(0,r.kt)("h3",{id:"finding-duplicates"},"Finding Duplicates"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"Organizing \u2192 Duplicates")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Find Duplicates"')),(0,r.kt)("li",{parentName:"ol"},"Configure detection options:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Exact copies")," \u2014 Enable to find identical files"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Visual duplicates")," \u2014 Enable to find visually similar photos"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Sensitivity")," \u2014 Strict (fewer matches, higher confidence), Normal, or Loose (more matches, may include false positives)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Clear pending")," \u2014 Optionally clear previously pending results before running"))),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Start Detection"'))),(0,r.kt)("p",null,"Detection runs as a background job. You can monitor progress in the ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-guide/job-system"},"Job System"),"."),(0,r.kt)("h3",{id:"reviewing-duplicates"},"Reviewing Duplicates"),(0,r.kt)("p",null,"Once detection is complete, duplicates appear as groups on the ",(0,r.kt)("strong",{parentName:"p"},"Organizing \u2192 Duplicates")," page:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Each group shows preview thumbnails of the duplicate photos"),(0,r.kt)("li",{parentName:"ul"},"Badges indicate the ",(0,r.kt)("strong",{parentName:"li"},"type")," (exact copy or visual duplicate) and ",(0,r.kt)("strong",{parentName:"li"},"review status")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Potential savings")," shows how much storage you'd free by keeping only one copy")),(0,r.kt)("h4",{id:"filtering-results"},"Filtering Results"),(0,r.kt)("p",null,"Use the filters at the top to narrow down results:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Status"),": Pending, Resolved, Dismissed, or All"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type"),": Exact Copies or Visual Duplicates")),(0,r.kt)("h4",{id:"resolving-a-duplicate-group"},"Resolving a Duplicate Group"),(0,r.kt)("p",null,"Click on a duplicate group to open the review modal:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Each photo is shown with its ",(0,r.kt)("strong",{parentName:"li"},"resolution"),", ",(0,r.kt)("strong",{parentName:"li"},"file size"),", ",(0,r.kt)("strong",{parentName:"li"},"camera"),", ",(0,r.kt)("strong",{parentName:"li"},"date"),", and ",(0,r.kt)("strong",{parentName:"li"},"file path")),(0,r.kt)("li",{parentName:"ol"},"The highest-resolution photo is automatically pre-selected as the one to keep"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Keep This"')," on the photo you want to keep (or select a different one)"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},'"Keep Selected & Trash Others"')," \u2014 the other photos are moved to trash"),(0,r.kt)("li",{parentName:"ol"},"The group status changes to ",(0,r.kt)("strong",{parentName:"li"},"Resolved"))),(0,r.kt)("h4",{id:"other-actions"},"Other Actions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},'"Not a Duplicate"')," \u2014 Dismiss the group if the photos aren't actually duplicates. The status changes to ",(0,r.kt)("strong",{parentName:"li"},"Dismissed"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},'"Revert & Restore Photos"')," \u2014 For resolved or dismissed groups, undo the action and restore any trashed photos."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Delete Group")," \u2014 Remove the duplicate group record entirely.")),(0,r.kt)("h3",{id:"batch-operations"},"Batch Operations"),(0,r.kt)("p",null,"You can select multiple duplicate groups using the checkboxes and delete them in bulk."),(0,r.kt)("h2",{id:"tips"},"Tips"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Start with exact copies")," \u2014 These are guaranteed duplicates and safe to clean up"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Review visual duplicates carefully")," \u2014 Similar-looking photos from a burst sequence or different angles may not be true duplicates"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Use strict sensitivity first")," \u2014 You can always run again with looser settings to find more"),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("strong",{parentName:"li"},"batch size")," parameter can be tuned in the detection API for systems with limited memory (smaller batches use less RAM but take longer)")))}d.isMDXComponent=!0}}]);